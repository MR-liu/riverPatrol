系统设计文档 - 河道监控与维护工单系统 (详细版)I. 系统概述与核心概念系统目标: 高效管理河道环境的告警发现、派发、处理、审核与关闭全流程。资产层级:区域: 系统管理的基本单元。河道: 每个区域下包含多条河道。摄像头: 每条河道下挂载多个摄像头，用于AI告警。告警来源:AI告警: 摄像头自动识别并产生，不附带初步分析数据。人工告警: 河道巡检员 (R004) 手动提交。II. 角色与职责系统管理员 (SysAdmin): 最高权限，管理全局配置与用户，可强制干预任何流程。监控中心主管 (R002): AI告警与人工告警的审核者，AI工单的创建者与最终关闭者，AI工单优先级的设定者。区域管理员 (R006): 区域“调度员”，负责接收、分派和审核本区域内的工单，并可介入处理超时的“人工工单确认”环节。河道维护员 (R003): 工单的执行者，负责现场处理问题并反馈结果。河道巡检员 (R004): 人工告警的发起者与最终确认关闭者，人工工单优先级的设定者。III. 核心业务规则与设定1. 工单优先级定义: 每个工单都包含优先级标签（如：紧急、重要、一般）。设定者:AI工单: 由 监控中心主管(R002) 在审核告警并创建工单时设定。人工工单: 由 河道巡检员(R004) 在发起告警时设定。2. 工单时效与升级处理时效: 系统当前版本不设强制的SLA（服务等级协议）时间限制。超时处理: 对于长时间无人处理或未关闭的工单，系统不设自动升级（Escalation）机制。依赖管理人员通过报表功能进行人工监督和干预。3. 信息透明与日志完全可见: 工单的全生命周期操作（创建、分派、接收、拒绝、处理、审核、备注、关闭等）均被详细记录。权限: 所有与该工单相关的角色（如 R002, R006, R003, R004）均可查看此工单的完整操作历史、照片和备注信息，确保信息的高度透明。4. 沟通机制外部沟通: 系统当前版本不设工单内部的即时沟通或@功能。相关人员的沟通需通过线下方式完成。IV. AI工单处理流程 (含异常处理)此流程图中加入了“最终审核驳回”的路径。graph TD
    subgraph "告警产生与审核"
        A[AI摄像头识别异常] --> B{R002 主管审核告警};
        B -- "有效告警" --> C[创建AI工单<br/>(设定优先级)];
        B -- "无效告警(误报)" --> D[关闭告警<br/>(流程结束)];
    end

    subgraph "工单分派与处理"
        C --> E{R006 区域管理员接收};
        E --> F[分派给 R003 维护员];
        F --> G{R003 维护员响应};
        G -- "接受任务" --> H[现场处理并提交结果];
        G -- "拒绝任务<br/>(附理由, 无次数限制)" --> F;
    end

    subgraph "处理结果审核"
        H --> I{R006 区域管理员审核};
        I -- "审核通过" --> J[标记为“处理完成”];
        I -- "审核不通过" --> G;
    end

    subgraph "最终审核与关闭"
        J --> K{R002 主管最终审核};
        K -- "确认无误" --> L[关闭工单<br/>(流程结束)];
        K -- "驳回处理" --> E;
    end
特殊流程 - 最终审核驳回:若监控中心主管(R002)在最终审核时认为处理不合格，可选择“驳回”。工单将退回至“待分派”状态，交由 区域管理员(R006) 重新进行分派或协调。V. 人工告警工单流程 (含异常处理)此流程图中加入了“发起人超时，由管理员确认”的路径。graph TD
    subgraph "告警发起与审核"
        A[R004 巡检员发起告警<br/>(设定优先级)] --> B{R002 主管审核告警};
        B -- "审核通过" --> C[创建人工工单];
        B -- "审核不通过" --> A;
    end

    subgraph "工单分派与处理"
        C --> D{R006 区域管理员接收};
        D --> E[分派给 R003 维护员];
        E --> F{R003 维护员响应};
        F -- "接受任务" --> G[现场处理并提交结果];
        F -- "拒绝任务<br/>(附理由, 无次数限制)" --> E;
    end

    subgraph "处理结果审核"
        G --> H{R006 区域管理员审核};
        H -- "审核通过" --> I[标记为“待发起人确认”];
        H -- "审核不通过" --> F;
    end

    subgraph "发起人现场确认闭环"
        I --> J{R004 发起人现场确认};
        J -- "确认问题已解决" --> K[关闭工单<br/>(流程结束)];
        J -- "确认问题未解决" --> L[标记“确认失败”<br/>工单返回重新审核];
        I -- "发起人超时" --> M{R006 管理员介入确认};
        M -- "确认" --> K;
        L --> B;
    end
特殊流程 - 发起人确认超时:若工单处理完成并经过区域管理员(R006)审核后，发起人(R004)长时间未进行现场确认。区域管理员(R006) 有权限介入，代替发起人进行最终的确认与关闭操作，以防止工单积压。